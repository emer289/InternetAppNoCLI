<!-- development version, includes helpful console warnings -->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<div id="app">
    <p>
        Input a city:
        <input v-model="question" />
    </p>
    <p>{{ answer }}</p>
    <button v-on:click="getWeather">Get Weather</button>
</div>

<script>

    var app = new Vue({
        el: '#app',
        data: {
            question: '',
            answer: 'which city would you like to know the weather of'
        },
        watch: {
            // whenever question changes, this function will run
            question(newQuestion, oldQuestion) {
                console.log("new question is ", newQuestion)
            }
        },
        methods: {
            async getWeather() {
                console.log("city is ", this.question)
                fetch(`http://localhost:3000/async/${this.question}`)
                    .then(response => {
                        return response.json()
                    }).then(a => {
                    this.answer = a.weatherForecast
                        console.log(a.weatherForecast)
                })
            }

        }
    })


</script>